{
  "ConnectionStrings": {
    "DefaultConnection": "Data Source=localhost;Initial Catalog=LulaLendDevDb;Integrated Security=SSPI;Connection Timeout=30;Trusted_Connection=True;TrustServerCertificate=True;"
  },
  "IdentityServer": {
    "Clients": [
      {
        "Enabled": true,
        "ClientId": "lp-client",
        "ClientName": "Lulapay Client",
        "ClientSecrets": [{ "Value": "changeit" }],
        "AllowedGrantTypes": ["client_credentials", "password"],
        "AllowedScopes": ["openid", "profile", "offline_access"],
        "AllowOfflineAccess": true
      },
      {
        "Enabled": true,
        "ClientId": "lp-web",
        "ClientName": "Lulapay Web",
        "RedirectUris": [
          "http://localhost:3000/",
          "https://dev-lulapay.lula.co.za/",
          "https://test-lulapay.lula.co.za/",
          "https://oauth.pstmn.io/v1/callback"
        ],
        "PostLogoutRedirectUris": [
          "http://localhost:3000/",
          "https://dev-lulapay.lula.co.za/",
          "https://test-lulapay.lula.co.za/"
        ],
        "AllowedCorsOrigins": [
          "http://localhost:3000",
          "https://dev-lulapay.lula.co.za",
          "https://test-lulapay.lula.co.za"
        ],
        "AllowedGrantTypes": ["authorization_code"],
        "FrontChannelLogoutUri": "http://localhost:3000/logout",
        "AllowedScopes": ["openid", "profile", "offline_access"],
        "AllowOfflineAccess": true,
        "AlwaysIncludeUserClaimsInIdToken": true,
        "AlwaysSendClientClaims": true,
        "AllowAccessTokensViaBrowser": true,
        "RefreshTokenUsage": "ReUse",
        "RefreshTokenExpiration": "Sliding",
        "SlidingRefreshTokenLifetime": 3600,
        "RequirePkce": true,
        "RequireClientSecret": false
      },
      {
        "Enabled": true,
        "ClientId": "lp-api",
        "ClientName": "Lulapay API",
        "ClientSecrets": [{ "Value": "changeit" }],
        "RedirectUris": ["https://localhost:44300/authentication/callback"],
        "PostLogoutRedirectUris": ["https://localhost:44300/"],
        "AllowedCorsOrigins": ["https://localhost:44300"],
        "FrontChannelLogoutUri": "https://localhost:44300/Authentication/ExternalLogout",
        "AllowedGrantTypes": ["authorization_code", "client_credentials"],
        "AllowedScopes": ["openid", "profile", "offline_access"],
        "RequireConsent": false,
        "AllowOfflineAccess": true,
        "AlwaysIncludeUserClaimsInIdToken": true,
        "AllowAccessTokensViaBrowser": true,
        "IdentityTokenLifetime": 36000,
        "AccessTokenLifetime": 36000,
        "AuthorizationCodeLifetime": 3000,
        "RefreshTokenUsage": "ReUse",
        "UpdateAccessTokenClaimsOnRefresh": true,
        "RefreshTokenExpiration": "Sliding",
        "IncludeJwtId": true,
        "AlwaysSendClientClaims": true,
        "RequirePkce": false
      }
    ],
    "ApiResources": [
      {
        "Name": "buyers_api",
        "DisplayName": "Buyers API",
        "Scopes": [
          {
            "Name": "buyers.read",
            "DisplayName": "Read buyers"
          },
          {
            "Name": "buyers.write",
            "DisplayName": "Create and update buyers"
          },
          {
            "Name": "buyers.delete",
            "DisplayName": "Delete buyers"
          }
        ],
        "UserClaims": ["role"]
      },
      {
        "Name": "sellers_api",
        "DisplayName": "Sellers API",
        "Scopes": [
          {
            "Name": "sellers.read",
            "DisplayName": "Read sellers"
          },
          {
            "Name": "sellers.write",
            "DisplayName": "Create and update sellers"
          },
          {
            "Name": "sellers.delete",
            "DisplayName": "Delete sellers"
          }
        ],
        "UserClaims": ["role"]
      }
    ],
    "ApiScopes": [
      {
        "Name": "buyers.read",
        "DisplayName": "Read buyers"
      },
      {
        "Name": "buyers.write",
        "DisplayName": "Create and update buyers"
      },
      {
        "Name": "buyers.delete",
        "DisplayName": "Delete buyers"
      },
      {
        "Name": "sellers.read",
        "DisplayName": "Read sellers"
      },
      {
        "Name": "sellers.write",
        "DisplayName": "Create and update sellers"
      },
      {
        "Name": "sellers.delete",
        "DisplayName": "Delete sellers"
      }
    ],
    "IdentityResources": [
      {
        "Name": "openid",
        "Required": true,
        "UserClaims": ["sub"]
      },
      {
        "Name": "profile",
        "UserClaims": ["email", "name", "phone_number", "preferred_username", "role"]
      }
    ]
  }
}
